
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
</head>
<body>
    <button><a href="https://www.youtube.com/watch?v=y_rnUOHUoQ4">xd</a></button>
    <script src="Tablero.js"></script>
    <script src="Tetrimino.js"></script>
    <script>
        const MARGEN_TABLERO = 10;
        let regulador_velocidad_teclas = 0

        function setup() {
            createCanvas(900, 600)
            tablero = new Tablero()
            crearBaseTetriminos()
            tetrimino = new Tetrimino()
            resizeCanvas(
                tablero.ancho + 2*MARGEN_TABLERO,
                tablero.alto + 2*MARGEN_TABLERO + tablero.ladoCelda
            )
        }

        function draw() {
            background("lightgray")
            tablero.dibujar()
            tetrimino.dibujar()
            keyEventsTetris()
        }

        function keyEventsTetris() {
            if (millis() - regulador_velocidad_teclas < 100) {
                return
            }
            regulador_velocidad_teclas = millis()
            if (keyIsDown(RIGHT_ARROW)) {
                tetrimino.moverDerecha()
            }
            if (keyIsDown(LEFT_ARROW)) {
                tetrimino.moverIzquierda()
            }
            if (keyIsDown(DOWN_ARROW)) {
                tetrimino.moverAbajo()
            }
            if (keyIsDown(UP_ARROW)) {
                tetrimino.girar()
            }
        }
    </script>
</body>
</html>